<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elysian Towers | Batumi Premier Stays</title>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

    <style>
        :root {
            --color-primary: #c09f80; /* A sophisticated gold/bronze */
            --color-secondary: #0d1b2a; /* Deep navy blue */
            --color-background: #fdfdfd;
            --color-surface: #ffffff;
            --color-text: #1b263b;
            --color-text-muted: #778da9;
            --font-primary: 'DM Sans', sans-serif;
            --font-display: 'Playfair Display', serif;
            --shadow-sm: 0 4px 15px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition-smooth: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font-primary);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Vue Transitions for Smoothness */
        .fade-enter-active, .fade-leave-active,
        .modal-fade-enter-active, .modal-fade-leave-active {
            transition: opacity 0.4s ease;
        }
        .fade-enter-from, .fade-leave-to,
        .modal-fade-enter-from, .modal-fade-leave-to {
            opacity: 0;
        }
        .modal-content-enter-active {
            transition: all 0.4s ease;
        }
        .modal-content-enter-from, .modal-content-leave-to {
            opacity: 0;
            transform: translateY(-30px);
        }

        /* Scroll Animation Setup */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Main App Container */
        #app.modal-open { filter: blur(8px); }
        #app { transition: filter 0.3s ease; }

        /* General UI Elements */
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 6rem 2rem;
        }
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-header .subtitle {
            color: var(--color-primary);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }
        .section-header .title {
            font-family: var(--font-display);
            font-size: clamp(2.2rem, 5vw, 3rem);
            margin-bottom: 1rem;
        }
        .section-header .description {
            font-size: 1.1rem;
            color: var(--color-text-muted);
            max-width: 600px;
            margin: 0 auto;
        }
        .btn {
            display: inline-block;
            padding: 0.9rem 2rem;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            text-decoration: none;
            transition: var(--transition-smooth);
        }
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-surface);
        }
        .btn-primary:hover {
            background-color: #a8876c;
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        .btn-secondary {
            background-color: transparent;
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
        }
        .btn-secondary:hover {
            background-color: var(--color-primary);
            color: var(--color-surface);
        }

        /* Header */
        .header {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #eee;
        }
        .nav-container {
            max-width: 1400px; margin: 0 auto; padding: 0 2rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-family: var(--font-display); font-size: 1.8rem; color: var(--color-secondary); }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(13, 27, 42, 0.6), rgba(13, 27, 42, 0.6)), url('https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2070&auto=format&fit=crop') center/cover;
            height: 95vh;
            display: flex; align-items: center; text-align: center;
            color: var(--color-surface);
        }
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        .hero-content h1 { font-family: var(--font-display); font-size: clamp(3rem, 7vw, 5rem); }
        .hero-content p { font-size: 1.25rem; margin: 1rem 0 2rem; opacity: 0.9; }

        /* Booking Form */
        .booking-form {
            max-width: 1100px; margin: -80px auto 0; position: relative; z-index: 10;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(15px);
            padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-md);
            border: 1px solid rgba(255,255,255,0.2);
            display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.5rem; align-items: flex-end;
        }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { margin-bottom: 0.5rem; font-weight: 500; }
        .form-group input, .form-group select {
            padding: 0.9rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;
            background: rgba(255,255,255,0.7);
        }
        .form-group input:focus { outline: 2px solid var(--color-primary); }
        .form-error { color: #d90429; font-size: 0.85rem; margin-top: 0.25rem; }

        /* Rooms Section */
        .rooms-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 2.5rem;
        }
        .room-card {
            background: var(--color-surface); border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm); overflow: hidden;
            display: flex; flex-direction: column;
            transition: var(--transition-smooth);
        }
        .room-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-md); }
        .room-image { width: 100%; height: 240px; object-fit: cover; }
        .room-content { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        .room-title { font-family: var(--font-display); font-size: 1.5rem; }
        .room-excerpt { color: var(--color-text-muted); margin: 0.5rem 0 1rem; }
        .room-meta {
            margin-top: auto; display: flex; justify-content: space-between; align-items: center;
        }
        .room-price { color: var(--color-primary); font-size: 1.5rem; font-weight: 700; }

        /* Modal */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(13, 27, 42, 0.8); backdrop-filter: blur(8px);
            display: flex; align-items: center; justify-content: center; z-index: 1000;
        }
        .modal-content {
            background: var(--color-surface); border-radius: var(--border-radius);
            width: 90%; max-width: 800px; box-shadow: var(--shadow-md);
            position: relative; max-height: 90vh; overflow-y: auto;
        }
        .modal-header img { width: 100%; height: 300px; object-fit: cover; border-radius: var(--border-radius) var(--border-radius) 0 0; }
        .modal-body { padding: 2.5rem; }
        .modal-title { font-family: var(--font-display); font-size: 2.2rem; margin-bottom: 1rem; }
        .modal-amenities { display: flex; flex-wrap: wrap; gap: 1rem; margin: 1.5rem 0; color: var(--color-text-muted); }
        .amenity { display: flex; align-items: center; gap: 0.5rem; }
        .amenity svg { width: 24px; height: 24px; stroke: var(--color-primary); }
        .modal-footer {
            padding: 2rem; background: var(--color-background); border-top: 1px solid #eee;
            display: flex; justify-content: space-between; align-items: center;
        }
        .modal-close-btn {
            position: absolute; top: 1rem; right: 1rem; background: rgba(0,0,0,0.3); color: white;
            border: none; border-radius: 50%; width: 32px; height: 32px;
            font-size: 1.5rem; line-height: 1; cursor: pointer;
        }
        .booking-success { text-align: center; padding: 4rem 2rem; }
        .booking-success svg { width: 80px; height: 80px; color: #2a9d8f; margin-bottom: 1rem; }

    </style>
</head>
<body>

<div id="app" :class="{ 'modal-open': isModalVisible }">
    <header class="header">
        <div class="nav-container">
            <div class="logo">Elysian Towers</div>
            <a href="#booking-form" class="btn btn-primary">{{ t('bookNow') }}</a>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content animate-on-scroll">
                <h1>{{ t('heroTitle') }}</h1>
                <p>{{ t('heroSubtitle') }}</p>
            </div>
        </section>

        <section id="booking-form" class="booking-form-wrapper">
            <form @submit.prevent="handleSearch" class="booking-form animate-on-scroll">
                <div class="form-group">
                    <label>{{ t('checkIn') }}</label>
                    <input type="date" v-model="search.checkIn" :min="today" @change="validateDates">
                    <span v-if="errors.checkIn" class="form-error">{{ errors.checkIn }}</span>
                </div>
                <div class="form-group">
                    <label>{{ t('checkOut') }}</label>
                    <input type="date" v-model="search.checkOut" :min="search.checkIn || today" @change="validateDates">
                    <span v-if="errors.checkOut" class="form-error">{{ errors.checkOut }}</span>
                </div>
                <div class="form-group">
                    <label>{{ t('guests') }}</label>
                    <select v-model.number="search.guests">
                        <option v-for="n in 5" :value="n">{{ n }} {{ n > 1 ? t('guests') : t('guest') }}</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" style="align-self: flex-end; width: 100%;">{{ t('searchBtn') }}</button>
            </form>
        </section>

        <section id="rooms" class="container">
            <header class="section-header animate-on-scroll">
                <p class="subtitle">{{ t('roomsSubtitle') }}</p>
                <h2 class="title">{{ t('ourRooms') }}</h2>
                <p class="description">{{ t('roomsDescription') }}</p>
            </header>
            <div class="rooms-grid">
                <div v-for="(room, index) in filteredRooms" :key="room.id" class="room-card animate-on-scroll" :style="{ 'transition-delay': (index * 100) + 'ms' }">
                    <img :src="room.imageUrl" :alt="room.title.en" class="room-image">
                    <div class="room-content">
                        <h3 class="room-title">{{ room.title[lang] }}</h3>
                        <p class="room-excerpt">{{ room.excerpt[lang] }}</p>
                        <div class="room-meta">
                            <div>
                                <span class="room-price">${{ room.price }}</span> / {{ t('night') }}
                            </div>
                            <button @click="openDetailsModal(room)" class="btn btn-secondary">{{ t('viewDetails') }}</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <transition name="modal-fade">
        <div v-if="isModalVisible" class="modal-overlay" @click.self="closeModal">
            <transition name="modal-content" appear>
                <div class="modal-content">
                    <button @click="closeModal" class="modal-close-btn">&times;</button>
                    
                    <div v-if="!booking.success">
                        <header class="modal-header">
                            <img :src="selectedRoom.imageUrl" :alt="selectedRoom.title[lang]">
                        </header>
                        <div class="modal-body">
                            <h2 class="modal-title">{{ selectedRoom.title[lang] }}</h2>
                            <p>{{ selectedRoom.description[lang] }}</p>
                            <div class="modal-amenities">
                                <div class="amenity">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/></svg>
                                    {{ selectedRoom.amenities.capacity }} {{ t('guests') }}
                                </div>
                                <div class="amenity">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                    {{ selectedRoom.amenities.size }} mÂ²
                                </div>
                                <div class="amenity">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"/><path d="M10.6 13.4c-.9-.9-.9-2.3 0-3.2"/><path d="M13.4 10.6c.9.9.9 2.3 0 3.2"/><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"/><path d="M19.1 4.9C23 8.8 23 15.2 19.1 19.1"/><line x1="12" y1="22" x2="12" y2="2"/></svg>
                                    WiFi
                                </div>
                            </div>
                            <form @submit.prevent="handleBooking">
                                <div class="form-group">
                                    <label>{{ t('fullName') }}</label>
                                    <input type="text" v-model="booking.name" required>
                                </div>
                                <div class="form-group" style="margin-top: 1rem;">
                                    <label>Email</label>
                                    <input type="email" v-model="booking.email" required>
                                </div>
                            </form>
                        </div>
                        <footer class="modal-footer">
                            <div>
                                <span style="font-size: 1.5rem; font-weight: 700;">${{ calculateTotalPrice() }}</span>
                                <span v-if="totalNights > 0"> ({{ totalNights }} {{ totalNights > 1 ? t('nights') : t('night') }})</span>
                            </div>
                            <button @click="handleBooking" class="btn btn-primary">{{ t('reserveNow') }}</button>
                        </footer>
                    </div>
                    <div v-else class="booking-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                        <h2 class="title">{{ t('bookingConfirmed') }}</h2>
                        <p>{{ t('bookingSuccessMsg') }}</p>
                    </div>

                </div>
            </transition>
        </div>
    </transition>

</div>

<script>
    // --- APP CONFIGURATION & TRANSLATIONS ---
    const CONFIG = {
        lang: 'en',
        translations: {
            en: {
                bookNow: "Book Your Stay",
                heroTitle: "Your Exclusive Escape in Batumi",
                heroSubtitle: "Discover unparalleled luxury and breathtaking views from our premier residences at the heart of the city.",
                checkIn: "Check-in",
                checkOut: "Check-out",
                guests: "Guests",
                guest: "Guest",
                searchBtn: "Find My Suite",
                ourRooms: "Our Premier Suites",
                roomsSubtitle: "Curated for Comfort",
                roomsDescription: "Each of our suites is thoughtfully designed to provide an unforgettable experience of comfort, elegance, and serenity.",
                night: "night",
                nights: "nights",
                viewDetails: "View Details",
                reserveNow: "Reserve Now",
                fullName: "Full Name",
                bookingConfirmed: "Reservation Confirmed!",
                bookingSuccessMsg: "Thank you for choosing Elysian Towers. A confirmation has been sent to your email address.",
                validation: {
                    datesRequired: "Please select both dates.",
                    checkoutAfterIn: "Check-out must be after check-in.",
                },
            },
        }
    };

    // --- BROWSER DATABASE SIMULATION ---
    const Database = {
        getRooms() {
            if (!localStorage.getItem('elysian_rooms')) {
                this.seedRooms();
            }
            return JSON.parse(localStorage.getItem('elysian_rooms'));
        },
        getBookings() {
            return JSON.parse(localStorage.getItem('elysian_bookings')) || [];
        },
        saveBooking(booking) {
            const bookings = this.getBookings();
            bookings.push(booking);
            localStorage.setItem('elysian_bookings', JSON.stringify(bookings));
        },
        seedRooms() {
            const initialRooms = [
                { id: 1, title: {en: "Azure Horizon Suite"}, excerpt: {en: "A stunning suite offering breathtaking panoramic views of the Black Sea."}, description: {en: "Awake to the endless azure expanse of the Black Sea in this premium suite. Featuring a king-sized bed, a modern kitchenette, and a private balcony, it's the perfect romantic getaway."}, price: 175, imageUrl: "https://images.unsplash.com/photo-1590490360182-c33d57733427?q=80&w=1974&auto=format&fit=crop", amenities: { capacity: 2, size: 65 } },
                { id: 2, title: {en: "City Lights Loft"}, excerpt: {en: "Modern and stylish loft perfect for urban explorers, with a dazzling city view."}, description: {en: "Immerse yourself in the vibrant energy of Batumi. This chic loft offers floor-to-ceiling windows, contemporary design, and all the amenities needed for a stylish city break."}, price: 140, imageUrl: "https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=2070&auto=format&fit=crop", amenities: { capacity: 2, size: 55 } },
                { id: 3, title: {en: "Grand Family Residence"}, excerpt: {en: "Spacious two-bedroom residence for families seeking comfort and luxury."}, description: {en: "Create lasting memories in our expansive Family Residence. With two separate bedrooms, a full living area, and a gourmet kitchen, it provides the ultimate in comfort and convenience for the whole family."}, price: 250, imageUrl: "https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?q=80&w=2070&auto=format&fit=crop", amenities: { capacity: 4, size: 110 } }
            ];
            localStorage.setItem('elysian_rooms', JSON.stringify(initialRooms));
        }
    };

    // --- VUE.JS APPLICATION ---
    const { createApp, ref, reactive, computed, onMounted } = Vue;
    
    createApp({
        setup() {
            // State
            const lang = ref(CONFIG.lang);
            const allRooms = ref([]);
            const filteredRooms = ref([]);
            const bookings = ref([]);
            const search = reactive({ checkIn: '', checkOut: '', guests: 1 });
            const errors = reactive({ checkIn: null, checkOut: null });
            const isModalVisible = ref(false);
            const selectedRoom = ref(null);
            const booking = reactive({ name: '', email: '', success: false });

            // Computed Properties
            const today = computed(() => new Date().toISOString().split('T')[0]);
            const totalNights = computed(() => {
                if (!search.checkIn || !search.checkOut) return 0;
                const start = new Date(search.checkIn);
                const end = new Date(search.checkOut);
                return Math.ceil((end - start) / (1000 * 60 * 60 * 24));
            });

            // Methods
            const t = (key) => CONFIG.translations[lang.value][key] || key;
            const validateDates = () => {
                errors.checkIn = null; errors.checkOut = null;
                if (search.checkIn && search.checkOut) {
                    if (new Date(search.checkIn) >= new Date(search.checkOut)) {
                        errors.checkOut = t('validation.checkoutAfterIn');
                        return false;
                    }
                }
                return true;
            };
            const handleSearch = () => {
                if (!validateDates()) return;
                if (!search.checkIn || !search.checkOut) {
                    errors.checkIn = t('validation.datesRequired');
                    return;
                }
                const searchStart = new Date(search.checkIn);
                const searchEnd = new Date(search.checkOut);
                
                filteredRooms.value = allRooms.value.filter(room => {
                    const hasCapacity = room.amenities.capacity >= search.guests;
                    const isAvailable = !bookings.value.some(b => 
                        b.roomId === room.id && 
                        (new Date(b.checkIn) < searchEnd && new Date(b.checkOut) > searchStart)
                    );
                    return hasCapacity && isAvailable;
                });
            };
            const openDetailsModal = (room) => {
                selectedRoom.value = room;
                isModalVisible.value = true;
            };
            const closeModal = () => {
                isModalVisible.value = false;
                booking.success = false;
                booking.name = '';
                booking.email = '';
            };
            const calculateTotalPrice = () => totalNights.value * (selectedRoom.value?.price || 0);
            const handleBooking = () => {
                if (!booking.name || !booking.email) {
                    alert('Please fill in your name and email.');
                    return;
                }
                const newBooking = {
                    bookingId: Date.now(), roomId: selectedRoom.value.id,
                    checkIn: search.checkIn, checkOut: search.checkOut,
                    guests: search.guests, customerName: booking.name, customerEmail: booking.email
                };
                Database.saveBooking(newBooking);
                bookings.value.push(newBooking);
                booking.success = true;
                handleSearch(); // Refresh search results
            };
            const setupScrollAnimations = () => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
            };

            // Lifecycle Hook
            onMounted(() => {
                allRooms.value = Database.getRooms();
                bookings.value = Database.getBookings();
                filteredRooms.value = [...allRooms.value];
                setupScrollAnimations();
            });

            return {
                lang, t, search, errors, today, filteredRooms, isModalVisible, selectedRoom,
                booking, totalNights, handleSearch, validateDates, openDetailsModal, closeModal,
                calculateTotalPrice, handleBooking
            };
        }
    }).mount('#app');
</script>

</body>
</html>
